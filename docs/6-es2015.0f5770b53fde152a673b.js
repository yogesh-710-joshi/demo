(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{pBKm:function(t,e,n){"use strict";n.r(e);var c=n("ofXK"),s=n("tyNb"),r=n("fXoL"),i=n("m7xh"),a=n("5eHb"),o=n("JqCM"),b=n("dNgK"),u=n("froh"),d=n("oOf3");const m=function(t,e,n,c){return["/admin/dashboard/edit",t,e,n,c]};function p(t,e){if(1&t){const t=r.bc();r.ac(0,"tr"),r.ac(1,"td"),r.Bc(2),r.Zb(),r.ac(3,"td"),r.Bc(4),r.Zb(),r.ac(5,"td"),r.Bc(6),r.Zb(),r.ac(7,"td"),r.Bc(8),r.Zb(),r.ac(9,"td",14),r.ac(10,"a",16),r.ac(11,"button",17),r.Bc(12,"Edit"),r.Zb(),r.Zb(),r.Zb(),r.ac(13,"td",14),r.ac(14,"button",18),r.ic("click",(function(){r.uc(t);const n=e.$implicit;return r.kc(2).removeUser(n._id)})),r.Bc(15,"Remove"),r.Zb(),r.Zb(),r.Zb()}if(2&t){const t=e.$implicit,n=e.index,c=r.kc(2);r.Jb(2),r.Dc(" ",5*(c.p-1)+n+1," "),r.Jb(2),r.Dc(" ",t.name," "),r.Jb(2),r.Dc(" ",t.email," "),r.Jb(2),r.Dc(" ",t.contact_number," "),r.Jb(2),r.pc("routerLink",r.rc(5,m,t._id,t.name,t.contact_number,t.email))}}const l=function(t){return{itemsPerPage:5,currentPage:t}};function h(t,e){if(1&t&&(r.ac(0,"div",11),r.ac(1,"table",12),r.ac(2,"thead",13),r.ac(3,"th"),r.Bc(4," S. No. "),r.Zb(),r.ac(5,"th"),r.Bc(6," Name "),r.Zb(),r.ac(7,"th"),r.Bc(8," Email "),r.Zb(),r.ac(9,"th"),r.Bc(10," Contact "),r.Zb(),r.ac(11,"th",14),r.Bc(12," Action "),r.Zb(),r.Wb(13,"th",14),r.Zb(),r.ac(14,"tbody"),r.Ac(15,p,16,10,"tr",15),r.lc(16,"paginate"),r.Zb(),r.Zb(),r.Zb()),2&t){const t=r.kc();r.Jb(15),r.pc("ngForOf",r.mc(16,1,t.users,r.qc(4,l,t.p)))}}function f(t,e){1&t&&(r.ac(0,"div",19),r.Bc(1," No users to display "),r.Zb())}let g=(()=>{class t{constructor(t,e,n,c,s){this.userCrudService=t,this.toastr=e,this.spinner=n,this.snackbar=c,this.usersearch=s,this.users=[],this.p=1,this.key=""}ngOnInit(){this.p=1,this.spinner.show(),this.usersearch.key.subscribe(t=>{this.key=t,""==t?this.userCrudService.getAllUsers().subscribe(t=>{setTimeout(()=>{this.spinner.hide(),this.users=t.data},1e3)}):this.usersearch.users.subscribe(t=>{this.users=t})})}removeUser(t){let e={id:t};this.spinner.show(),this.userCrudService.removeUser(e).subscribe(t=>{setTimeout(()=>{t.success?(this.snackbar.open(t.msg,"Close",{duration:1e4,verticalPosition:"top",panelClass:["snackClass"]}),this.users=t.data):this.toastr.error(t.msg),this.spinner.hide()},1e3)})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(i.a),r.Vb(a.b),r.Vb(o.c),r.Vb(b.a),r.Vb(u.a))},t.\u0275cmp=r.Pb({type:t,selectors:[["app-dashboard-view"]],decls:14,vars:2,consts:[[1,"main-content"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"loader"],[1,"card-body"],["class","table-responsive",4,"ngIf"],["class","no-users",4,"ngIf"],[3,"pageChange"],[1,"table-responsive"],[1,"table"],[1,"text-primary"],[1,"text-right"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"btn","btn-info"],[1,"btn","btn-danger",3,"click"],[1,"no-users"]],template:function(t,e){1&t&&(r.ac(0,"div",0),r.ac(1,"div",1),r.ac(2,"div",2),r.ac(3,"div",3),r.ac(4,"div",4),r.ac(5,"h1",5),r.Bc(6," Users"),r.Zb(),r.Zb(),r.ac(7,"ngx-spinner"),r.ac(8,"p",6),r.Bc(9,"Loading"),r.Zb(),r.Zb(),r.ac(10,"div",7),r.Ac(11,h,17,6,"div",8),r.Ac(12,f,2,0,"div",9),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.ac(13,"pagination-controls",10),r.ic("pageChange",(function(t){return e.p=t})),r.Zb(),r.Zb()),2&t&&(r.Jb(11),r.pc("ngIf",e.users.length>0),r.Jb(1),r.pc("ngIf",0==e.users.length))},directives:[o.a,c.k,d.c,c.j,s.e],pipes:[d.b],styles:[".loader[_ngcontent-%COMP%]{font-size:large;font-weight:700}.my-pagination[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{background:red}.card-body[_ngcontent-%COMP%]{min-height:450px}.no-users[_ngcontent-%COMP%]{text-align:center;font-size:large;font-weight:bolder;margin-top:50px}"]}),t})();var Z=n("3Pt+");let v=(()=>{class t{constructor(t,e,n,c){this.fb=t,this.route=e,this.userCrudService=n,this.toastr=c,this.id=this.route.snapshot.params.id,this.admineditForm=this.fb.group({name:"",contact_number:"",email:""})}ngOnInit(){const t=this.route.snapshot.params.contact_number,e=this.route.snapshot.params.email;this.admineditForm.controls.name.setValue(this.route.snapshot.params.name),this.admineditForm.controls.contact_number.setValue(t),this.admineditForm.controls.email.setValue(e)}onSubmit(){this.userCrudService.updateUser({id:this.id,name:this.admineditForm.controls.name.value,contact_number:this.admineditForm.controls.contact_number.value,email:this.admineditForm.controls.email.value}).subscribe(t=>{t.success?this.toastr.success(t.msg):this.toastr.error(t.msg)})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Z.b),r.Vb(s.a),r.Vb(i.a),r.Vb(a.b))},t.\u0275cmp=r.Pb({type:t,selectors:[["app-admin-edit"]],decls:22,vars:1,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card","mx-4"],[1,"card-body","p-4"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text","formControlName","name","placeholder","Username",1,"form-control"],["type","number","formControlName","contact_number","placeholder","Contact Number",1,"form-control"],["type","text","formControlName","email","placeholder","Email",1,"form-control"],["type","submit",1,"btn","btn-block","btn-success"]],template:function(t,e){1&t&&(r.ac(0,"div",0),r.ac(1,"div",1),r.ac(2,"div",2),r.ac(3,"div",3),r.ac(4,"div",4),r.ac(5,"h1"),r.Bc(6,"Edit Details"),r.Zb(),r.ac(7,"form",5),r.ic("ngSubmit",(function(){return e.onSubmit()})),r.ac(8,"div",6),r.ac(9,"div",7),r.Wb(10,"span",8),r.Zb(),r.Wb(11,"input",9),r.Zb(),r.ac(12,"div",6),r.ac(13,"div",7),r.Wb(14,"span",8),r.Zb(),r.Wb(15,"input",10),r.Zb(),r.ac(16,"div",6),r.ac(17,"div",7),r.Wb(18,"span",8),r.Zb(),r.Wb(19,"input",11),r.Zb(),r.ac(20,"button",12),r.Bc(21,"Update"),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb(),r.Zb()),2&t&&(r.Jb(7),r.pc("formGroup",e.admineditForm))},directives:[Z.k,Z.g,Z.d,Z.a,Z.f,Z.c,Z.h],styles:[""]}),t})();const y=[{path:"",component:g},{path:"item2",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Pb({type:t,selectors:[["app-item2"]],decls:2,vars:0,template:function(t,e){1&t&&(r.ac(0,"p"),r.Bc(1,"item2 works!"),r.Zb())},styles:[""]}),t})()},{path:"edit/:id/:name/:contact_number/:email",component:v}];let C=(()=>{class t{}return t.\u0275mod=r.Tb({type:t}),t.\u0275inj=r.Sb({factory:function(e){return new(e||t)},imports:[[s.f.forChild(y)],s.f]}),t})();n.d(e,"DashboardModule",(function(){return k}));let k=(()=>{class t{}return t.\u0275mod=r.Tb({type:t}),t.\u0275inj=r.Sb({factory:function(e){return new(e||t)},imports:[[c.b,C,Z.i,o.b,d.a]]}),t})()}}]);